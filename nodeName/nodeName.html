<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">

    <title>Document</title>
    <style>
        li{
            display:block;
            width:80px;
            height:80px;
            margin:12px;
            background-color:#666;
        }
    </style>
    <!--
    <script>
		var divNode = document.getElementById("container");
		console.log(divNode.nodeName + "//" + divNode.nodeValue);
		var attrNode = divNode.attributes[1];
		console.log(attrNode.nodeName + "//" + attrNode.nodeValue);
		var textNode = divNode.childNodes[0];
		console.log(textNode.nodeName + "//" + textNode.nodeValue);
		var commentNode = document.body.childNodes[1];
		console.log(commentNode.nodeName + "//" + commentNode.nodeValue);
		console.log(document.doctype.nodeName + "//" + document.doctype.nodeValue);
		var frag = document.createDocumentFragment();
		console.log(frag.nodeName + "/" + frag.nodeValue);
	</script>
    -->
    <script>
         genCssSelector = function(){
         var obj = arguments[0];  //被点击的对象
            var parentObj = obj.parentNode;   //被点击对象的父对象节点
            var nodeTagName = obj.nodeName.toLowerCase();   //将各个节点名放在这里面，最后面作为函数返回值
            // 循环，直到文档根节点document结束循环,文档节点docuemnt的nodeName值为'#document'
            while( parentObj.nodeName.toLowerCase() != '#document' ){
                if( parentObj.id != '' ){//注意nodeName属性返回节点的名字基本上是大写，所以用toLowerCase()函数转换为全部都是小写的名称
                    // 父节点有id属性
                    nodeTagName = '#' + parentObj.id + ' ' + nodeTagName;
                    parentObj = parentObj.parentNode;
                }else if( parentObj.className !='' ){
                    // 有属性类,可能有多个
                    nodeTagName = ' ' + nodeTagName;
                    var list = parentObj.className.split(' ');
                    for(var i=list.length-1;i>=0;i--){
                        nodeTagName = '.' + list[i] + nodeTagName;
                    }
                    parentObj = parentObj.parentNode;
                }else{
                    // 没有id class属性的标签
                    nodeTagName = parentObj.nodeName.toLowerCase() + ' ' + nodeTagName;
                    parentObj = parentObj.parentNode;
                }
            }
            return nodeTagName;
        }
        document.addEventListener('click', function(e){

    //点击li时，返回：html body #page .content.main .refer ul li

    console.log(genCssSelector(e.target)); //e.target表示被点击的元素!

})
</script>

</head>

<body>

    <div id="page">

        <div class="content main">

            <div class="refer">

                <ul>

                    <li></li>

                    <li></li>

                    ...

                </ul>

            </div>

        </div>

    </div>

</body>

</html>
